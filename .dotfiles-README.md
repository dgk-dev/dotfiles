# Dotfiles

Bare Git Repository로 관리하는 개인 설정 파일들.

## 구조

```
~/.cfg/                      # Git 데이터 (bare repo)
~/.claude/commands/          # Claude Code 커스텀 커맨드
  ├── ri.md                  # Research & Implement 워크플로우
  └── project-start.md       # 프로젝트 시작 워크플로우
```

## 사용법

### 상태 확인
```bash
config status
```

### 파일 수정 후 커밋
```bash
config add ~/.claude/commands/ri.md
config commit -m "update: ri.md 수정 내용"
config push
```

### 새 파일 추가
```bash
config add ~/.claude/commands/새파일.md
config commit -m "feat: 새 커맨드 추가"
config push
```

### 변경 내역 확인
```bash
config log --oneline
config diff
```

## ⚠️ 주의사항

### 절대 금지
```bash
# 홈 디렉토리 전체가 추가됨 - 절대 하지 말 것!
config add .
config add -A
config add --all
```

### 항상 개별 파일만 추가
```bash
# 올바른 방법
config add ~/.claude/commands/ri.md
config add ~/.claude/commands/project-start.md
```

## 새 컴퓨터에서 복원

```bash
# 1. bare repo 클론
git clone --bare https://github.com/dgk-dev/dotfiles.git $HOME/.cfg

# 2. alias 설정
alias config='/usr/bin/git --git-dir=$HOME/.cfg/ --work-tree=$HOME'

# 3. 파일 체크아웃
config checkout

# 4. untracked 파일 숨기기
config config --local status.showUntrackedFiles no

# 5. alias를 .zshrc에 영구 추가
echo "alias config='/usr/bin/git --git-dir=\$HOME/.cfg/ --work-tree=\$HOME'" >> $HOME/.zshrc
```

## alias 설정 위치

`~/.zshrc`에 다음 줄이 추가되어 있음:
```bash
alias config='/usr/bin/git --git-dir=$HOME/.cfg/ --work-tree=$HOME'
```
